{% extends "base.html" %}
{% block content %}
<div class="card">
    {% if role == "admin" %}
        <h2>Admin Login</h2>
        <p class="muted">Use username <code>fam1</code> and password <code>fam1</code> (demo).</p>
        <form method="post">
            <label>Username</label><br>
            <input name="username" required><br>
            <label>Password</label><br>
            <input name="password" type="password" required><br>
            <button type="submit">Login as Admin</button>
        </form>

    {% elif role == "dealer" %}
        <h2>Dealer Login</h2>
        <p class="muted">Use username <code>fam1</code> and password <code>fam1</code>. Then select which dealer ID you are using.</p>
        <form method="post">
            <label>Username</label><br>
            <input name="username" required><br>
            <label>Password</label><br>
            <input name="password" type="password" required><br>
            <label>Dealer ID</label><br>
            <select name="dealerId">
                {% for d in dealers %}
                <option value="{{ d.dealerId }}">{{ d.dealerId }} â€“ {{ d.dealerName }}</option>
                {% endfor %}
            </select><br>
            <button type="submit">Login as Dealer</button>
        </form>

    {% elif role == "farmer" %}
        <h2>{{ t.farmer_login_title }}</h2>
        <p class="muted">{{ t.login_hint }}</p>
        <form method="post">
            <label>{{ t.login_efn_label }}</label><br>
            <input name="efn" required><br>
            <label>{{ t.login_password_label }}</label><br>
            <input name="password" type="password" required><br>
            <button type="submit">{{ t.farmer_login_button }}</button>
        </form>
    {% endif %}

    {% if error %}
        <p style="color:#fca5a5; margin-top:0.8rem;">{{ error }}</p>
    {% endif %}
</div>
{% endblock %}
